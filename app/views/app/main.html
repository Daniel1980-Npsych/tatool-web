<div class="wrapper">

<!-- HEADER --> 
<div ng-include src="'../../views/app/header.html'"></div>

  <!-- INSTALLED -->
  <div class="container">
    <accordion>
      <accordion-group is-open="status.installed">
        <accordion-heading>
          INSTALLED
          <i class="glyphicon" ng-class="{'glyphicon-chevron-down': status.installed, 'glyphicon-chevron-right': !status.installed}"></i>
          <div class="fileUpload btn btn-tatool pull-right">
            Add Module
            <form id="addModuleForm">
              <input type="file" class="upload" custom-on-change="addModule" ng-click="$event.stopPropagation()"/>
            </form>
          </div>
        </accordion-heading>
        <div id="modules">
          <div class="tile" ng-class="{'tileHighlight': module.moduleId == highlightModuleId}" ng-repeat="module in modules | orderBy:'moduleName'" ng-if="!!modules.length">
            <div class="icon"><img src="images/app/module_icon_base.png"></div>
            <div class="content">
              <h2>{{module.moduleName}}</h2>
              <h3>{{module.moduleAuthor}}</h3>
              <div class="buttonbar">
                <div class="btn btn-tatool" ng-click="startModule(module)"><i class="fa fa-play-circle"></i> Start</div>
                <div class="btn-group" ng-if="module.moduleDefinition.export && module.moduleDefinition.export.length > 0" dropdown>
                  <div class="btn btn-tatool-off dropdown-toggle">Export <span class="caret"></span></div>
                  <ul class="dropdown-menu" role="menu">
                    <li class="exporterName" ng-click="doExport($event, module, exporter.mode, exporter.target)" ng-repeat="exporter in module.moduleDefinition.export | filter:filterExporter | orderBy:'mode'">
                      <a href="#">{{exporter.mode}}</a>
                    </li>
                  </ul>
                </div>
                <a ng-click="deleteModule(module)" class="btn btn-tatool-off"><i class="fa fa-trash-o"></i></a>
              </div>
            </div>
          </div>

          <div ng-if="modules.length === 0">
            No modules found.
          </div>

        </div>
      </accordion-group>
    </accordion>
  </div>

  <!-- PUBLIC -->
  <div class="container">
    <accordion>
      <accordion-group is-open="status.public">
        <accordion-heading ng-class="'tatool-panel-heading'">
          PUBLIC 
          <i class="glyphicon" ng-class="{'glyphicon-chevron-down': status.public, 'glyphicon-chevron-right': !status.public}"></i>
          <form class="form-inline pull-right" role="form">
            <div class="form-group has-feedback">
              <input type="text" class="form-control" id="searchRepo" ng-model="query" ng-change="searchRepo()" ng-click="$event.stopPropagation()">
              <span class="glyphicon glyphicon-search form-control-feedback"></span>
            </div>
          </form>
        </accordion-heading>
        <div id="modules">
          <div class="tile" ng-class="{'tileHighlight': module.moduleId == highlightModuleId}" ng-repeat="module in repository | orderBy:'created_at':true | limitTo:quantity" ng-if="!!repository.length">
            <div class="icon"><img src="images/app/module_icon_base.png"></div>
            <div class="content">
              <h2>{{module.moduleName}}</h2>
              <h3>{{module.moduleAuthor}}</h3>
              <div class="buttonbar">
                <div class="btn btn-tatool" ng-click="installModule(module)"><i class="fa fa-download"></i> Install</div>
              </div>
            </div>
          </div>
          <div ng-if="repository.length === 0">
            No modules found.
          </div>
        </div>
      </accordion-group>
    </accordion>
  </div>

     <!-- Footer Helper -->
        <div class="push"></div>

    </div>

<!-- FOOTER --> 
  <div ng-include src="'../../views/app/footer.html'"></div>